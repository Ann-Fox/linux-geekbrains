# Задание 21

Написать скрипт очистки директорий. На вход принимает путь к директории. Если директория существует, то удаляет в ней все файлы с расширениями .bak, .tmp, .backup. Если директории нет, то выводит ошибку.


#!/bin/bash




#!/bin/sh
until false do
 echo  файлы в каталоге:
 ls
 echo  введите название каталога, либо q для выхода
 read z
 if [ $z = q ] then
  echo выход; break
 else 
  if [ -d $z ]
  then
   rm -r $z
  echo каталог удален;
  else echo директории не существует; break
  fi
 fi
 done


# Задание 2


# Создать скрипт ownersort.sh, который в заданной папке копирует файлы в директории, названные по имени владельца каждого файла.


# Учтите, что файл должен принадлежать соответствующему владельцу


share=/home/developer/myshare/


cd $share


for file in *


 do


           if [ -d $file ]


             then


     		            # если директория, то переходим на следующую итерацию цикла


                     continue


           fi


           if [ -e $file ]


             then


                     # если это файл, то извлекаем владельца (а тут можно еще избавиться от grep, видимо)


                     owner=`ls -l $file | grep '^-' | awk {'print $3'}`


                     cp $file $share/$owner


                     # Учтите, что файл должен принадлежать соответствующему владельцу


     		            # чтобы смена прав отработала скрипт должен быть запущен от root'


                     chown $owner $share/$owner/$file


             fi


     done

